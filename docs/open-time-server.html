<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-open-time-server">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<title data-rh="true">Open Time Server | Time Appliances Project (TAP)</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://www.timingcard.com//Time-Appliance-Project/docs/open-time-server"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Open Time Server | Time Appliances Project (TAP)"><meta data-rh="true" name="description" content="GitHub Logo"><meta data-rh="true" property="og:description" content="GitHub Logo"><link data-rh="true" rel="icon" href="/Time-Appliance-Project/img/favicon.ico"><link data-rh="true" rel="canonical" href="http://www.timingcard.com//Time-Appliance-Project/docs/open-time-server"><link data-rh="true" rel="alternate" href="http://www.timingcard.com//Time-Appliance-Project/docs/open-time-server" hreflang="en"><link data-rh="true" rel="alternate" href="http://www.timingcard.com//Time-Appliance-Project/docs/open-time-server" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://YOUR_APP_ID-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/Time-Appliance-Project/assets/css/styles.18b34e26.css">
<link rel="preload" href="/Time-Appliance-Project/assets/js/runtime~main.c23d754c.js" as="script">
<link rel="preload" href="/Time-Appliance-Project/assets/js/main.339793e0.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Time-Appliance-Project/"><div class="navbar__logo"><img src="/Time-Appliance-Project/img/ocptaplogo.png" alt="Time Appliances Project Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/Time-Appliance-Project/img/ocptaplogo.png" alt="Time Appliances Project Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Time Appliances Project</b></a><a class="navbar__item navbar__link" href="/Time-Appliance-Project/docs/intro">Documentation</a><a href="https://www.opencompute.org/projects/time-appliances-project-tap" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">OCP TAP</a><a href="https://github.com/opencomputeproject/Time-Appliance-Project" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Time-Applicance-Project@GitHub</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Time-Appliance-Project/docs/intro">Time Appliances Project</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Time-Appliance-Project/docs/dc-ptp-profile">Data Center PTP Profile</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Time-Appliance-Project/docs/category/timecard">Timecard</a><button aria-label="Toggle the collapsible sidebar category &#x27;Timecard&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Time-Appliance-Project/docs/open-time-server">Open Time Server</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/Time-Appliance-Project/docs/category/software">Software</a><button aria-label="Toggle the collapsible sidebar category &#x27;Software&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Time-Appliance-Project/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Open Time Server</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Open Time Server</h1><p><img loading="lazy" src="https://github.com/opencomputeproject/Time-Appliance-Project/blob/master/Time-Card/images/OCP%20logo.jpg?raw=true" alt="GitHub Logo" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="spec-revision-10">Spec Revision 1.0<a class="hash-link" href="#spec-revision-10" title="Direct link to heading">​</a></h4><p>The Open Time Server (OTS) is an Open, Scalable and Validated reference architecture that can be deployed in Data Centers or in an edge environments.<br>
<!-- -->This spec can be accessed using <a href="http://www.opentimeserver.com" target="_blank" rel="noopener noreferrer">http://www.opentimeserver.com</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="abbreviations">Abbreviations<a class="hash-link" href="#abbreviations" title="Direct link to heading">​</a></h2><table><thead><tr><th>Abbreviation</th><th>Description</th></tr></thead><tbody><tr><td>AC</td><td>Atomic Clock</td></tr><tr><td>COTS</td><td>Commodity off-the-shelf</td></tr><tr><td>DC</td><td>Datacenter</td></tr><tr><td>GNSS</td><td>Global Navigation Satellite System</td></tr><tr><td>GTM</td><td>Go-To-Market</td></tr><tr><td>HW</td><td>Hardware</td></tr><tr><td>NIC</td><td>Network Interface Card</td></tr><tr><td>NTP</td><td>Network Time Protocol</td></tr><tr><td>OCP</td><td>Open Compute Project</td></tr><tr><td>OCXO</td><td>Oven-Controlled Oscillator</td></tr><tr><td>OTS</td><td>Open Time Server (Previously known as an <strong>Open Grandmaster</strong> or a <strong>Leader</strong>)</td></tr><tr><td>PHC</td><td>PTP Hardware Clock</td></tr><tr><td>PPS</td><td>Pulse-Per-Second</td></tr><tr><td>PTM</td><td>Precision Time Measurements</td></tr><tr><td>PTP</td><td>Precision Time Protocol</td></tr><tr><td>SW</td><td>Software</td></tr><tr><td>TAP</td><td>Time Appliance Project</td></tr><tr><td>TCXO</td><td>Temperature-compensated Oscillator</td></tr><tr><td>ToD</td><td>Time of Day</td></tr><tr><td>TS</td><td>Timestamp</td></tr><tr><td>XO</td><td>Oscillator</td></tr></tbody></table><p>Table 1. Abbreviations</p><h1>General</h1><p><a href="https://www.opencompute.org/wiki/Time_Appliances_Project" target="_blank" rel="noopener noreferrer">OCP TAP</a> is targeting to ease the addition of Time-sync as a service to the datacenter. The Project targets are to define the service requirements, deployment, and design of an open reference design.</p><p>The time-sync service is relying on a synchronization technology, for now, we are adopting PTP (IEEE 1588) with some addition to that and NTP.</p><p>PTP architecture is scalable and defines the time source from an entity called the <strong>Time Server clock</strong> (or stratum 1 in NTP terms). The Open Time Server is distributing time to the entire network and usually gets its timing from an external source, (GNSS signal).</p><p>The current state-of-the-art Open Time Server implementations suffer from a few drawbacks that we wish to accommodate:</p><ul><li>They are HW appliances that usually target different GTM than a DC</li><li>They expose none standard and inconsistent Interfaces and SW feature-sets</li><li>Development cycles and the effort needed to add new features are long and expensive</li><li>It doesn’t rely on open-source software</li><li>The accuracy/stability grades aren’t in line with DC requirements</li></ul><h1>High-Level Architecture</h1><p>In general, the OTS is divided into 3 HW components:</p><ol><li>COTS server</li><li>Commodity NIC</li><li>Time Card</li></ol><p><img loading="lazy" alt="Open Time Server System Diagram" src="/Time-Appliance-Project/assets/images/overall-c19754410e4868c52b6dfe01f6d9890e.png" width="1536" height="864" class="img_ev3q"></p><p align="center">Figure 1. Open Time Server System Diagram</p>The philosophy behind this fragmentation is very clear, and each decision, modification that will be made, must look-out to this philosophy:<ul><li>COTS servers keep their “value for money” due to huge market requirements. They are usually updated with the latest OS version, security patches, and newer technology, faster than HW appliances.</li><li>Modern Commodity NICs already support HW timestamp, lead the market with Ethernet and PCIe latest Speeds and Feeds. Modern NIC also supports a wide range of OS versions and comes with a great software ecosystem. NIC + COTS server will allow the OTS to run a full software (and even open source one) PTP and NTP stack.</li><li>Timecard will be the smallest (conceptually) possible HW board, which will provide the GNSS signal input and stable frequency input. Isolating these functions in a timecard will allow OTS to choose the proper timecard for their needs (accuracy, stability, cost, etc) and remain with the same SW, interface, and architecture.</li></ul><p><img loading="lazy" alt="Open Time Server Concept" src="/Time-Appliance-Project/assets/images/OTS_concept-13ddf2336ff9dbfab1e26b6f1f4faa6b.png" width="2148" height="1740" class="img_ev3q"></p><p align="center">Figure 2. Open Time Server Concept</p><p>General Idea is the Time Card is connected via PCIe to the server and provides Time Of Day (TOD) via <code>/dev/ptpX</code> interface.<br>
<!-- -->Using this interface <code>phc2sys</code> continuously synchronizes PHC on the network card from the atomic clock on the Time Card. This provides precision &lt; 1us.<br>
<!-- -->For the extremely high precision 1PPS output of the Time Card will be connected to the 1PPS input of the NIC, providing &lt;100ns precision.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="responsibilities-and-requirements">Responsibilities and Requirements<a class="hash-link" href="#responsibilities-and-requirements" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cots-server">COTS Server<a class="hash-link" href="#cots-server" title="Direct link to heading">​</a></h3><ul><li>Run commodity OS</li><li>PCIe as an interconnect</li><li>[optional]<!-- --> PTM Support</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="network-interface-card">Network Interface Card<a class="hash-link" href="#network-interface-card" title="Direct link to heading">​</a></h4><ul><li>Hardware timestamps</li><li>[optional]<!-- --> PPS in/out</li><li>[optional]<!-- --> PTM Support</li><li>[optional]<!-- --> Time of day tunnel from timecard to SW</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="time-card">Time Card<a class="hash-link" href="#time-card" title="Direct link to heading">​</a></h4><ul><li>Holdover</li><li>GNSS in</li><li>PPS in/out</li><li>Leap second awareness</li><li>Time of day</li><li>[optional]<!-- --> PTM Support</li></ul><h1>Detailed Architecture</h1><p>Real life assembly components can be,</p><p><img loading="lazy" alt="Open Time Server Assembly" src="/Time-Appliance-Project/assets/images/OTS_assembly-543e7a6de4a4aa2adfde1802712e5318.jpeg" width="1536" height="668" class="img_ev3q"></p><p align="center">Figure 3. Open Time Server Assembly</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="cots-server-1">COTS Server<a class="hash-link" href="#cots-server-1" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware">Hardware<a class="hash-link" href="#hardware" title="Direct link to heading">​</a></h3><p>Most of the general purpose hardware can be used.<br>
<!-- -->vt-d CPU support is required.<br>
<!-- -->If multi-CPU system is chosen - we recommend connecting the Time Card and the Network Card to the same PCIe lane.<br>
<!-- -->Synchronization between multiple CPUs will add an extra offset.</p><p>We&#x27;ve tested and proved setup is working with the following platform spec:</p><ul><li>HPE ProLiant DL380 Gen10</li><li>OCP Tioga Pass</li><li>SuperMicro 6019U-TRT - single or dual CPU</li><li>SuperMicro 5019GP-TT - single socket with maximum throughput</li><li>Intel NUC 9 Pro</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="software">Software<a class="hash-link" href="#software" title="Direct link to heading">​</a></h3><p>Please detailed <a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Software" target="_blank" rel="noopener noreferrer">software description</a> document</p><ul><li>Linux operating system with the <a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Time-Card/DRV" target="_blank" rel="noopener noreferrer">ocp_ptp driver</a> (included in Linux kernel 5.12 and newer). Driver may require vt-d CPU flag enabled in BIOS</li><li>NTP server - <a href="https://github.com/mlichvar/chrony" target="_blank" rel="noopener noreferrer">Chrony</a>/NTPd reading <code>/dev/ptpX</code> of the Time Card</li><li>PTP server - <a href="https://github.com/facebook/time/tree/main/ptp/ptp4u" target="_blank" rel="noopener noreferrer">ptp4u</a> or <a href="https://github.com/richardcochran/linuxptp" target="_blank" rel="noopener noreferrer">ptp4l</a> reading <code>/dev/ptpX</code> of the NIC<ul><li><a href="https://github.com/richardcochran/linuxptp" target="_blank" rel="noopener noreferrer">phc2sys</a>/<a href="https://github.com/richardcochran/linuxptp" target="_blank" rel="noopener noreferrer">ts2phc</a> to copy clock values from the Time Card to the NIC</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nic">NIC<a class="hash-link" href="#nic" title="Direct link to heading">​</a></h2><p>Most of the general purpose hardware can be used.<br>
<!-- -->For the improved precision of NTP or PTP there can be extra requirements below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="form-factor">Form-Factor<a class="hash-link" href="#form-factor" title="Direct link to heading">​</a></h3><ul><li>Standard PCIe Stand-up HHHL Half-Height, Half-Length -or- <a href="https://www.opencompute.org/wiki/Server/Mezz" target="_blank" rel="noopener noreferrer">OCP NIC 3.0</a></li><li>Single Slot - Passive Cooling Solution</li><li>Support for Standard PCIe Tall and Short brackets -or- OCP NIC 3.0 ejector types</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pcie-interface">PCIe Interface<a class="hash-link" href="#pcie-interface" title="Direct link to heading">​</a></h3><ul><li>PCIe Gen3.0/Gen4.0 X n lanes on Gold-fingers, where n = at least 8</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-ports">Network Ports<a class="hash-link" href="#network-ports" title="Direct link to heading">​</a></h3><ul><li>Single or Dual-port Ethernet</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hardware-timestamps">Hardware timestamps<a class="hash-link" href="#hardware-timestamps" title="Direct link to heading">​</a></h3><p>NIC should timestamp all ingress packets.<br>
<!-- -->Non PTP packets can be batch and have a common TS in the SW descriptor, as long as they are not distant more than TBD nanosecond.<br>
<!-- -->NIC should timestamp all PPP egress packets.</p><ul><li>PHC</li><li>PTM</li><li>1PPS input</li><li>[optional]<!-- --> 10MHz input which can be used as frequency input to the TSU unit</li><li>[optional]<!-- --> Multi-host support</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pps-out">PPS out<a class="hash-link" href="#pps-out" title="Direct link to heading">​</a></h3><ul><li>PPS Out Rise/Fall Time &lt; 5 nano Sec</li><li>PPS Out Delay &lt; 400 pico Sec</li><li>PPS Out Jitter &lt; 250 femto Sec</li><li>PPS Out Impedance = 50 Ohm</li><li>PPS Out frequency 1Hz - 10MHz</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pps-in">PPS In<a class="hash-link" href="#pps-in" title="Direct link to heading">​</a></h3><ul><li>PPS In Delay &lt; 400 pico Sec</li><li>PPS In Jitter &lt; 250 femto Sec</li><li>PPS In Impedance = 50 Ohm</li><li>PPS In frequency 1Hz - 10MHz</li></ul><p>Examples:</p><ul><li><a href="https://www.mellanox.com/products/ethernet-adapters/connectx-6-dx" target="_blank" rel="noopener noreferrer">NVIDIA ConnectX-6 Dx</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time-card-1">Time Card<a class="hash-link" href="#time-card-1" title="Direct link to heading">​</a></h2><p>Please see <a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Time-Card" target="_blank" rel="noopener noreferrer">Time Card details architecture</a> document or simply visit <a href="http://www.timingcard.com" target="_blank" rel="noopener noreferrer">www.timingcard.com</a>.</p><p>General Idea is this card will be connected via PCIe to the server and provide Time Of Day (TOD) via <code>/dev/ptpX</code> interface. Using this interface <code>phc2sys</code> will continuously synchronize PHC on the network card from the atomic clock on the Time Card. This provides precision &lt; 1us.</p><p>For the extremely high precision 1PPS output of the Time Card should be connected to the 1PPS input of the NIC. In this setup <code>ts2phc</code> can provide &lt; 100ns precision.</p><h1>License</h1><p>OCP encourages participants to share their proposals, specifications and designs with the community. This is to promote openness and encourage continuous and open feedback. It is important to remember that by providing feedback for any such documents, whether in written or verbal form, that the contributor or the contributor&#x27;s organization grants OCP and its members irrevocable right to use this feedback for any purpose without any further obligation.</p><p>It is acknowledged that any such documentation and any ancillary materials that are provided to OCP in connection with this document, including without limitation any white papers, articles, photographs, studies, diagrams, contact information (together, “Materials”) are made available under the Creative Commons Attribution-ShareAlike 4.0 International License found here: <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer">https://creativecommons.org/licenses/by-sa/4.0/</a>, or any later version, and without limiting the foregoing, OCP may make the Materials available under such terms.</p><p>As a contributor to this document, all members represent that they have the authority to grant the rights and licenses herein. They further represent and warrant that the Materials do not and will not violate the copyrights or misappropriate the trade secret rights of any third party, including without limitation rights in intellectual property. The contributor(s) also represent that, to the extent the Materials include materials protected by copyright or trade secret rights that are owned or created by any third-party, they have obtained permission for its use consistent with the foregoing. They will provide OCP evidence of such permission upon OCP’s request. This document and any &quot;Materials&quot; are published on the respective project&#x27;s wiki page and are open to the public in accordance with OCP&#x27;s Bylaws and IP Policy. This can be found at <a href="http://www.opencompute.org/participate/legal-documents/" target="_blank" rel="noopener noreferrer">http://www.opencompute.org/participate/legal-documents/</a>. If you have any questions please contact OCP.</p><p>This work is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/website/docs/open-time-server.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Time-Appliance-Project/docs/time-card/advanced-usage"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Advanced Usage</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Time-Appliance-Project/docs/category/software"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Software</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#abbreviations" class="table-of-contents__link toc-highlight">Abbreviations</a></li><li><a href="#responsibilities-and-requirements" class="table-of-contents__link toc-highlight">Responsibilities and Requirements</a><ul><li><a href="#cots-server" class="table-of-contents__link toc-highlight">COTS Server</a></li></ul></li><li><a href="#cots-server-1" class="table-of-contents__link toc-highlight">COTS Server</a><ul><li><a href="#hardware" class="table-of-contents__link toc-highlight">Hardware</a></li><li><a href="#software" class="table-of-contents__link toc-highlight">Software</a></li></ul></li><li><a href="#nic" class="table-of-contents__link toc-highlight">NIC</a><ul><li><a href="#form-factor" class="table-of-contents__link toc-highlight">Form-Factor</a></li><li><a href="#pcie-interface" class="table-of-contents__link toc-highlight">PCIe Interface</a></li><li><a href="#network-ports" class="table-of-contents__link toc-highlight">Network Ports</a></li><li><a href="#hardware-timestamps" class="table-of-contents__link toc-highlight">Hardware timestamps</a></li><li><a href="#pps-out" class="table-of-contents__link toc-highlight">PPS out</a></li><li><a href="#pps-in" class="table-of-contents__link toc-highlight">PPS In</a></li></ul></li><li><a href="#time-card-1" class="table-of-contents__link toc-highlight">Time Card</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Project Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/opencomputeproject/Time-Appliance-Project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://www.opencompute.org/wiki/Time_Appliances_Project" target="_blank" rel="noopener noreferrer" class="footer__link-item">Wiki</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.opencompute.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCP<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.opencompute.org/projects/time-appliances-project-tap" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCP TAP<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/DC-PTP-Profile" target="_blank" rel="noopener noreferrer" class="footer__link-item">DC PTP Profile<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Open-Time-Server" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Time Server<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Time-Card" target="_blank" rel="noopener noreferrer" class="footer__link-item">Timecard<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/opencomputeproject/Time-Appliance-Project/tree/master/Software" target="_blank" rel="noopener noreferrer" class="footer__link-item">Software<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.opencompute.org/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.opencompute.org/terms-of-service/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.opencompute.org/about/ocp-policies/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCP Policies<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_lCJq"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_BH7S"><img src="/Time-Appliance-Project/img/ocplogo.svg" alt="OCP Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo"><img src="/Time-Appliance-Project/img/ocplogo.svg" alt="OCP Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo"></a></div><div class="footer__copyright">Copyright © 2025 Open Compute Project. Built with Docusaurus.</div></div></div></footer></div>
<script src="/Time-Appliance-Project/assets/js/runtime~main.c23d754c.js"></script>
<script src="/Time-Appliance-Project/assets/js/main.339793e0.js"></script>
</body>
</html>